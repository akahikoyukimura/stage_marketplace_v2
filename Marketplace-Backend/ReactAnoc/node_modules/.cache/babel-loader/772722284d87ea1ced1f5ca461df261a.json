{"ast":null,"code":"var _jsxFileName = \"F:\\\\Users\\\\Workspace Softcentre\\\\Workspace_DEV\\\\Backend_Vente_Especes\\\\ReactAnoc\\\\src\\\\components\\\\AnnocReactApp\\\\AnnocReactMap.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState } from 'react';\nimport COPInterface from '../CooperativeInterface/COPInterface';\nimport ReactMapGL, { Marker, Popup, FlyToInterpolator } from 'react-map-gl';\nimport { easeCubic } from 'd3-ease';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AnnocReactMap = function (props) {\n  _s();\n\n  const [currentHoveredCooperative, onHoveredCooperativeChange] = useState(null);\n  const [viewport, setViewport] = useState({\n    width: \"100%\",\n    height: \"75vh\",\n    latitude: 31.991610,\n    longitude: -7.647410,\n    zoom: 5\n  });\n\n  const flyToCooperative = function (cooperativePosition) {\n    setViewport({ ...viewport,\n      longitude: cooperativePosition.long,\n      latitude: cooperativePosition.lat,\n      zoom: 7,\n      transitionDuration: 600,\n      transitionInterpolator: new FlyToInterpolator(),\n      transitionEasing: easeCubic.easeCubic\n    });\n  };\n\n  const getCursor = ({\n    isHovering,\n    isDragging\n  }) => {\n    return isDragging ? 'move' : isHovering ? 'pointer' : 'default';\n  };\n\n  const getClassNameForMarkerCircle = (currentHoveredCooperative, coopId) => {\n    const primClss = \"marker animationReverse\";\n    return currentHoveredCooperative !== null && currentHoveredCooperative === coopId ? primClss + \" markerhovered\" : primClss;\n  };\n\n  const getClassNameForMarkerWrraper = (currentSelectedCooperative, coopId) => {\n    const primClss = \"primaryBorrderWrapper\";\n    return props.currentSelectedCooperative !== null && props.currentSelectedCooperative._id === coopId ? primClss + \" broderWrapper\" : primClss;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex flex-row w-100 \",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container m-2 w-50 bg-white border p-2\",\n      children: /*#__PURE__*/_jsxDEV(COPInterface, {\n        coopData: props.coopData,\n        defaultSecteur: -1,\n        onSelectedSecteurChange: props.onSelectedSecteurChange,\n        flyToCooperative: flyToCooperative,\n        currentHoveredCooperative: currentHoveredCooperative,\n        onHoveredCooperativeChange: onHoveredCooperativeChange,\n        onSelectedCooperativeChange: props.onSelectedCooperativeChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 19\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container m-2 w-100 bg-white border p-2 \",\n      children: /*#__PURE__*/_jsxDEV(ReactMapGL, {\n        className: \"mapbox\",\n        getCursor: getCursor,\n        ...viewport,\n        mapStyle: \"mapbox://styles/mapbox/streets-v11\",\n        onViewportChange: nextViewport => setViewport(nextViewport),\n        mapboxApiAccessToken: \"pk.eyJ1Ijoic2FtaXJjbSIsImEiOiJja3MzdGUwcXgxeWhwMnFtc3IyZjg0N2x4In0.xiL-KsNRniKXDOF3lOXkSw\",\n        children: [props.currentSelectedCooperative ? /*#__PURE__*/_jsxDEV(Popup, {\n          className: \"pop-up\",\n          latitude: props.currentSelectedCooperative.position.lat,\n          longitude: props.currentSelectedCooperative.position.long,\n          onClose: () => {\n            props.onSelectedCooperativeChange(null);\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Coopeative \", props.currentSelectedCooperative.num, \": \", props.currentSelectedCooperative.nom, \"  \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this) : null, props.coopData.map((secteur, index) => index === parseInt(props.currentSecteur) || parseInt(props.currentSecteur) === -1 ? secteur.cooperatives.map((cooperative, index2) => /*#__PURE__*/_jsxDEV(Marker, {\n          className: \"markerContainer\",\n          latitude: cooperative.position.lat,\n          longitude: cooperative.position.long,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: getClassNameForMarkerWrraper(props.currentSelectedCooperative, cooperative._id),\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: e => {\n                props.onSelectedCooperativeChange(cooperative);\n                flyToCooperative(cooperative.position);\n              },\n              style: {\n                backgroundColor: secteur.color\n              },\n              className: getClassNameForMarkerCircle(currentHoveredCooperative, cooperative._id),\n              children: cooperative.num\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 45\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 39\n          }, this)\n        }, cooperative._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 33\n        }, this)) : null)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 12\n  }, this);\n};\n\n_s(AnnocReactMap, \"peRjf83eSq8HrIgdXSLt5Sx+ZKc=\");\n\n_c = AnnocReactMap;\nexport default AnnocReactMap;\n\nvar _c;\n\n$RefreshReg$(_c, \"AnnocReactMap\");","map":{"version":3,"sources":["F:/Users/Workspace Softcentre/Workspace_DEV/Backend_Vente_Especes/ReactAnoc/src/components/AnnocReactApp/AnnocReactMap.jsx"],"names":["React","useState","COPInterface","ReactMapGL","Marker","Popup","FlyToInterpolator","easeCubic","AnnocReactMap","props","currentHoveredCooperative","onHoveredCooperativeChange","viewport","setViewport","width","height","latitude","longitude","zoom","flyToCooperative","cooperativePosition","long","lat","transitionDuration","transitionInterpolator","transitionEasing","getCursor","isHovering","isDragging","getClassNameForMarkerCircle","coopId","primClss","getClassNameForMarkerWrraper","currentSelectedCooperative","_id","coopData","onSelectedSecteurChange","onSelectedCooperativeChange","nextViewport","position","num","nom","map","secteur","index","parseInt","currentSecteur","cooperatives","cooperative","index2","e","backgroundColor","color"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { useState } from 'react';\r\nimport COPInterface from '../CooperativeInterface/COPInterface'\r\nimport ReactMapGL, { Marker, Popup,FlyToInterpolator } from 'react-map-gl';\r\nimport {easeCubic} from 'd3-ease'\r\n\r\nconst AnnocReactMap = function(props){    \r\n    const [currentHoveredCooperative, onHoveredCooperativeChange] = useState(null)\r\n    const [viewport, setViewport] = useState({\r\n      width: \"100%\",\r\n      height: \"75vh\",\r\n      latitude: 31.991610, \r\n      longitude: -7.647410,\r\n      zoom: 5\r\n    });\r\n    const flyToCooperative = function(cooperativePosition){\r\n      setViewport({\r\n          ...viewport,\r\n          longitude: cooperativePosition.long,\r\n          latitude: cooperativePosition.lat,\r\n          zoom:7,\r\n          transitionDuration: 600,\r\n          transitionInterpolator: new FlyToInterpolator(),\r\n          transitionEasing: easeCubic.easeCubic\r\n      })\r\n    }\r\n    const getCursor = ({isHovering, isDragging})=>{\r\n      return isDragging ? 'move' : isHovering ? 'pointer' : 'default'\r\n    }\r\n    const getClassNameForMarkerCircle = (currentHoveredCooperative, coopId)=>{\r\n      const primClss = \"marker animationReverse\"\r\n          return currentHoveredCooperative !== null && currentHoveredCooperative === coopId ? primClss+\" markerhovered\" : primClss\r\n    }\r\n    const getClassNameForMarkerWrraper = (currentSelectedCooperative, coopId)=>{\r\n        \r\n      const primClss = \"primaryBorrderWrapper\" \r\n      return props.currentSelectedCooperative !== null && props.currentSelectedCooperative._id === coopId ? primClss+\" broderWrapper\" : primClss\r\n    }\r\n    return <div className=\"d-flex flex-row w-100 \">\r\n              <div className=\"container m-2 w-50 bg-white border p-2\">\r\n                  <COPInterface \r\n                    coopData = {props.coopData} \r\n                    defaultSecteur = {-1} \r\n                    onSelectedSecteurChange = {props.onSelectedSecteurChange}\r\n                    flyToCooperative = {flyToCooperative}\r\n                    currentHoveredCooperative = {currentHoveredCooperative}\r\n                    onHoveredCooperativeChange = {onHoveredCooperativeChange}\r\n                    onSelectedCooperativeChange = {props.onSelectedCooperativeChange}/>\r\n              </div>\r\n              <div className=\"container m-2 w-100 bg-white border p-2 \">\r\n                <ReactMapGL\r\n                  className = \"mapbox\"\r\n                  getCursor = {getCursor}\r\n                  {...viewport}\r\n                  mapStyle=\"mapbox://styles/mapbox/streets-v11\"\r\n                  onViewportChange={nextViewport => setViewport(nextViewport)}\r\n                  mapboxApiAccessToken = \"pk.eyJ1Ijoic2FtaXJjbSIsImEiOiJja3MzdGUwcXgxeWhwMnFtc3IyZjg0N2x4In0.xiL-KsNRniKXDOF3lOXkSw\"\r\n                >\r\n                    {props.currentSelectedCooperative ? \r\n                    <Popup\r\n                        className = \"pop-up\"\r\n                        latitude={props.currentSelectedCooperative.position.lat} \r\n                        longitude={props.currentSelectedCooperative.position.long}\r\n                        onClose = {()=>{props.onSelectedCooperativeChange(null)}}>\r\n                        <div>Coopeative {props.currentSelectedCooperative.num}: {props.currentSelectedCooperative.nom}  </div>\r\n                    </Popup>\r\n                    : null}\r\n                    {props.coopData.map(\r\n                        (secteur, index)=>(\r\n                            ( index ===  parseInt(props.currentSecteur) || parseInt(props.currentSecteur) === -1 )?\r\n                            secteur.cooperatives.map( (cooperative,index2)=>(\r\n                                <Marker className=\"markerContainer\"\r\n                                    key={cooperative._id}\r\n                                    latitude={cooperative.position.lat} \r\n                                    longitude={cooperative.position.long}>\r\n                                      <div className = {getClassNameForMarkerWrraper(props.currentSelectedCooperative, cooperative._id) }>\r\n                                            <div onClick = {(e)=>{\r\n                                                props.onSelectedCooperativeChange(cooperative)\r\n                                                flyToCooperative(cooperative.position)\r\n                                                }}\r\n                                                style = {{backgroundColor: secteur.color}} \r\n                                                className={getClassNameForMarkerCircle(currentHoveredCooperative, cooperative._id)} \r\n                                                >{cooperative.num}\r\n                                            </div>\r\n                                        </div>\r\n                                </Marker>\r\n                            )): null\r\n                        )\r\n                    )}           \r\n                </ReactMapGL>\r\n              </div>  \r\n        </div>\r\n    }\r\n\r\n\r\nexport default AnnocReactMap"]},"metadata":{},"sourceType":"module"}